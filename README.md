# Linear Temporal Logic in Lean 4

This is a formalization of Linear Temporal Logic (LTL) in the Lean 4 theorem prover. The project implements the syntax and semantics of LTL, transition systems, and provides various theorems about LTL and LT properties.

> ![WARNING]
> This is a tentative README generated by GitHub Copilot. It may not be accurate or complete.

## Overview

Linear Temporal Logic (LTL) is a modal temporal logic with modalities referring to time. It is widely used in formal verification of software and hardware systems, particularly for expressing properties about paths in a computation tree.

This formalization includes:

1. Definition of transition systems
2. Syntax and semantics of LTL formulas
3. Linear time properties
4. Satisfaction relations between systems, states, and formulas
5. Proofs of various LTL equivalence laws and theorems

## Project Structure

The project is organized into the following modules:

### TransitionSystems

Defines transition systems and related concepts:

- `TransitionSystem` structure: `(S, Act, âŸ¶, I, L)` parameterized by atomic propositions
- Finite transition systems
- Successors and predecessors (direct and set-based)
- Terminal states
- Execution fragments (finite and infinite)
- Paths and path fragments
- Traces of executions and paths
- Specialized structures for transition systems without terminal states

### LTL

Implements the syntax of Linear Temporal Logic:

- Core operators:
  - `True` (âŠ¤)
  - `atom a` (atomic proposition)
  - `not Ï†` (Â¬Ï†)
  - `and Ï† Ïˆ` (Ï† âˆ§ Ïˆ)
  - `next Ï†` (â—¯Ï†)
  - `until Ï† Ïˆ` (Ï† ğ“¤ Ïˆ)

- Derived operators:
  - `or Ï† Ïˆ` (Ï† âˆ¨ Ïˆ)
  - `eventually Ï†` (â™¢Ï†)
  - `always Ï†` (â–¡Ï†)
  - `False` (âŠ¥)

- Propositional Logic (PL) formulas as a subset of LTL
- Formula length calculation

### LTProperty

- Definition of Linear Time Properties as sets of infinite sequences

### Satisfaction

Implements the semantics of LTL and provides various proofs:

- World-based semantics for LTL formulas
- Satisfaction relations between worlds and formulas
- Suffix operations on worlds
- Equivalence relation between LTL formulas
- Key theorems and equivalences:
  - Double negation
  - Dualities for temporal operators
  - Idempotence of temporal operators
  - Absorption laws
  - Expansion laws for until, eventually, and always
  - Distributive properties
  - "Until is the Least Solution of the Expansion Law" theorem
- Satisfaction of LT properties by transition systems
- Trace inclusion and equivalence theorems
- Invariant properties and their relationship to reachability

## Key Formalizations and Theorems

The project includes formalizations and proofs of many important LTL concepts:

1. **LTL Equivalences**:
   - `ltl_double_negation`: Â¬Â¬Ï† â‰¡ Ï†
   - `ltl_duality_next`: Â¬â—¯Ï† â‰¡ â—¯Â¬Ï†
   - `ltl_duality_eventually`: Â¬â™¢Ï† â‰¡ â–¡Â¬Ï†
   - `ltl_duality_always`: Â¬â–¡Ï† â‰¡ â™¢Â¬Ï†
   - `ltl_idempotence_eventually`: â™¢â™¢Ï† â‰¡ â™¢Ï†
   - `ltl_idempotence_always`: â–¡â–¡Ï† â‰¡ â–¡Ï†
   - `ltl_absorption_always_eventually`: â™¢â–¡â™¢Ï† â‰¡ â–¡â™¢Ï†
   - `ltl_absorption_eventually_always`: â–¡â™¢â–¡Ï† â‰¡ â™¢â–¡Ï†
   - `ltl_expansion_until`: Ï† ğ“¤ Ïˆ â‰¡ Ïˆ âˆ¨ (Ï† âˆ§ â—¯(Ï† ğ“¤ Ïˆ))
   - `ltl_expansion_eventually`: â™¢Ï† â‰¡ Ï† âˆ¨ â—¯â™¢Ï†
   - `ltl_expansion_always`: â–¡Ï† â‰¡ Ï† âˆ§ â—¯â–¡Ï†

2. **Semantic Properties**:
   - `until_least_solution_of_expansion_law`: Proof that Until is the least solution of its expansion law
   - `world_satisfies_eventually_always`: Characterization of â™¢â–¡Ï†
   - `world_satisfies_always_eventually`: Characterization of â–¡â™¢Ï†

3. **System Verification**:
   - `trace_inclusion_and_LTProperties`: Relation between trace inclusion and LT properties
   - `trace_equivalence_and_LTProperties`: Trace equivalence theorem
   - `invariant_satisfaction_reachability`: Characterization of invariant verification through reachability analysis

## Future Work

Potential future extensions to this formalization include:

- Adding more complex temporal operators (e.g., release, weak until)
- Implementing model checking algorithms for LTL
- Defining fairness and other characteristics for LT properties
- Proving results about BuÌˆchi automata
